<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 å¹´åº¦å¾©ç›¤ç”Ÿæˆå™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: #fafaf9; /* stone-50 */
            color: #292524; /* stone-800 */
        }
        h1, h2, h3, .serif {
            font-family: 'Noto Serif TC', serif;
        }
        .en-serif {
            font-family: 'Playfair Display', serif;
        }
        /* Custom Scrollbar */
        textarea::-webkit-scrollbar {
            width: 8px;
        }
        textarea::-webkit-scrollbar-track {
            background: #f5f5f4; 
        }
        textarea::-webkit-scrollbar-thumb {
            background-color: #d6d3d1; 
            border-radius: 4px;
        }
        /* Card Flip Animation */
        .perspective-1000 {
            perspective: 1000px;
        }
        .transform-style-3d {
            transform-style: preserve-3d;
        }
        .backface-hidden {
            backface-visibility: hidden;
        }
        .rotate-y-180 {
            transform: rotateY(180deg);
        }
        .slide-in-right {
            animation: slideInRight 0.5s ease-out forwards;
        }
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
</head>
<body class="bg-stone-50 min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-2xl bg-white rounded-xl shadow-xl overflow-hidden border border-stone-100 relative min-h-[600px] flex flex-col">
        
        <div class="w-full h-1 bg-stone-100">
            <div id="progress-bar" class="h-full bg-amber-600 transition-all duration-500" style="width: 14%;"></div>
        </div>

        <div id="step-container" class="flex-1 p-6 md:p-10 relative">
            </div>

        <div class="p-6 border-t border-stone-100 flex justify-between bg-stone-50 items-center">
            <button id="btn-prev" class="text-stone-500 hover:text-stone-800 font-serif hidden">
                <i class="fa-solid fa-arrow-left mr-2"></i> ä¸Šä¸€æ­¥
            </button>
            <div class="text-xs text-stone-400 font-serif tracking-widest">STEP <span id="step-indicator">1</span>/7</div>
            <button id="btn-next" class="bg-stone-800 text-stone-50 hover:bg-amber-700 px-6 py-2 rounded shadow transition-colors font-serif">
                ä¸‹ä¸€æ­¥ <i class="fa-solid fa-arrow-right ml-2"></i>
            </button>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Data State ---
            const state = {
                step: 0,
                data: {
                    name: '',
                    date: new Date().toISOString().split('T')[0],
                    keyword: '',
                    scores: [5, 5, 5, 5, 5],
                    q1: '', q2: '', q3: '', q4: '',
                    roles: [
                        {name: '', review: ''},
                        {name: '', review: ''},
                        {name: '', review: ''}
                    ],
                    metrics: '',
                    highlights: '',
                    assets: '',
                    vision: '',
                    card: { en: '', cn: '', msg: '' }
                }
            };

            // --- Config ---
            const steps = [
                { id: 'step-1', title: 'èƒ½é‡å®šèª¿', render: renderStep1 },
                { id: 'step-2', title: 'å››å­£å›æ”¾', render: renderStep2 },
                { id: 'step-3', title: 'å¤šé‡å®‡å®™', render: renderStep3 },
                { id: 'step-4', title: 'æ·±åº¦ç›¤é»', render: renderStep4 },
                { id: 'step-5', title: 'å‡è¦– 2026', render: renderStep5 },
                { id: 'step-6', title: 'æˆ°ç•¥éŒ¦å›Š', render: renderStep6 },
                { id: 'step-7', title: 'ç”Ÿæˆçµæœ', render: renderStep7 }
            ];

            const cardDeck = [
                { en: "The Explorer", cn: "æ¢ç´¢è€…", msg: "ä¿æŒå¥½å¥‡ï¼Œå‹‡æ•¢è¸å…¥æœªçŸ¥é ˜åŸŸã€‚" },
                { en: "The Alchemist", cn: "éŠé‡‘è¡“å¸«", msg: "æ•´åˆç¾æœ‰è³‡æºï¼Œè½‰åŒ–ç‚ºæœ€å¤§åƒ¹å€¼ã€‚" },
                { en: "The Listener", cn: "å‚¾è½è€…", msg: "éœä¸‹å¿ƒä¾†ï¼Œç­”æ¡ˆå¾€å¾€åœ¨ç´°ç¯€è£¡ã€‚" },
                { en: "The Cultivator", cn: "è€•è€˜è€…", msg: "æŒçºŒæŠ•å…¥ï¼Œè€å¿ƒç­‰å¾…è¤‡åˆ©æ•ˆæ‡‰ã€‚" },
                { en: "The Architect", cn: "æ¶æ§‹å¸«", msg: "å»ºç«‹ç³»çµ±èˆ‡ç§©åºï¼Œç©©å¥æ§‹å»ºæœªä¾†ã€‚" },
                { en: "The Voyager", cn: "é èˆªè€…", msg: "é–å®šç›®æ¨™ï¼Œå±•ç¾å¼·å¤§çš„åŸ·è¡ŒåŠ›ã€‚" },
                { en: "The Resilient", cn: "éŸŒæ€§è€…", msg: "ä»¥æŸ”å…‹å‰›ï¼Œé©æ‡‰è®ŠåŒ–ä¸¦å¾ä¸­åå½ˆã€‚" },
                { en: "The Thinker", cn: "æ²‰æ€è€…", msg: "æ·±åº¦æ€è€ƒï¼Œé‡æ¸…äº‹ç‰©çš„æœ¬è³ªã€‚" },
                { en: "The Navigator", cn: "èˆµæ‰‹", msg: "é †æ‡‰æ™‚å‹¢ï¼Œåœ¨è®Šå‹•ä¸­éˆæ´»èª¿æ•´æ–¹å‘ã€‚" },
                { en: "The Healer", cn: "ä¿®å¾©è€…", msg: "èª¿æ•´ç‹€æ…‹ï¼Œè®“èº«å¿ƒå›åˆ°æœ€ä½³å¹³è¡¡ã€‚" },
                { en: "The Radiance", cn: "ç™¼å…‰è€…", msg: "å»ºç«‹å€‹äººå“ç‰Œï¼Œè‡ªä¿¡å±•ç¾å½±éŸ¿åŠ›ã€‚" },
                { en: "The Integrator", cn: "æ•´åˆè€…", msg: "æ­¸ç´ç¶“é©—ï¼Œå°‡æ•£è½çš„é»é€£æˆç·šã€‚" }
            ];

            // --- DOM Elements ---
            const container = document.getElementById('step-container');
            const btnPrev = document.getElementById('btn-prev');
            const btnNext = document.getElementById('btn-next');
            const progressBar = document.getElementById('progress-bar');
            const stepIndicator = document.getElementById('step-indicator');
            let radarChart = null;

            // --- Initialization ---
            renderStep();

            // --- Event Listeners ---
            btnNext.addEventListener('click', () => {
                if (state.step < steps.length - 1) {
                    state.step++;
                    renderStep();
                }
            });

            btnPrev.addEventListener('click', () => {
                if (state.step > 0) {
                    state.step--;
                    renderStep();
                }
            });

            // --- Render Functions ---
            function renderStep() {
                const progress = ((state.step + 1) / steps.length) * 100;
                progressBar.style.width = `${progress}%`;
                stepIndicator.textContent = state.step + 1;

                btnPrev.classList.toggle('hidden', state.step === 0);
                if (state.step === steps.length - 1) {
                    btnNext.classList.add('hidden');
                } else {
                    btnNext.classList.remove('hidden');
                    btnNext.innerHTML = state.step === steps.length - 2 ? 
                        'ç”Ÿæˆæˆ°ç•¥æ›¸ <i class="fa-solid fa-wand-magic-sparkles ml-2"></i>' : 
                        'ä¸‹ä¸€æ­¥ <i class="fa-solid fa-arrow-right ml-2"></i>';
                }

                container.innerHTML = '';
                const content = steps[state.step].render();
                container.appendChild(content);
                
                if (state.step === 0) initRadarChart();
            }

            // --- Step Renderers ---

            function renderStep1() {
                const div = document.createElement('div');
                div.className = 'slide-in-right space-y-6';
                div.innerHTML = `
                    <h2 class="text-2xl font-bold text-stone-800 text-center mb-6">2025 èƒ½é‡åœ°åœ–</h2>
                    <div class="relative h-64 w-full flex justify-center items-center mb-6">
                        <canvas id="radarChart"></canvas>
                    </div>
                    
                    <div class="space-y-4">
                        ${['äº‹æ¥­æˆå°±', 'èº«å¿ƒå¥åº·', 'äººéš›é—œä¿‚', 'è²¡å‹™è±ç››', 'è‡ªæˆ‘å¯¦ç¾'].map((label, idx) => `
                            <div class="flex items-center space-x-4">
                                <span class="w-20 text-sm font-serif text-stone-600">${label}</span>
                                <input type="range" min="1" max="10" value="${state.data.scores[idx]}" 
                                    class="flex-1 h-2 bg-stone-200 rounded-lg appearance-none cursor-pointer accent-amber-600 range-slider"
                                    data-index="${idx}">
                                <span class="w-6 text-right font-mono text-amber-700 font-bold score-display">${state.data.scores[idx]}</span>
                            </div>
                        `).join('')}
                    </div>

                    <div class="mt-8">
                        <label class="block text-sm font-serif text-stone-500 mb-2">å¹´åº¦é—œéµå­—</label>
                        <input type="text" id="input-keyword" value="${state.data.keyword}" 
                            placeholder="å¦‚æœç”¨ä¸€å€‹è©å½¢å®¹é€™ä¸€å¹´ï¼Œé‚£æœƒæ˜¯ä»€éº¼ï¼Ÿ"
                            class="w-full border-b-2 border-stone-200 bg-transparent py-2 px-1 focus:outline-none focus:border-amber-600 font-serif text-lg text-stone-800 placeholder-stone-400 transition-colors">
                    </div>
                `;
                
                setTimeout(() => {
                    const sliders = div.querySelectorAll('.range-slider');
                    sliders.forEach(slider => {
                        slider.addEventListener('input', (e) => {
                            const idx = e.target.dataset.index;
                            const val = parseInt(e.target.value);
                            state.data.scores[idx] = val;
                            e.target.nextElementSibling.textContent = val;
                            updateRadarChart();
                        });
                    });
                    
                    div.querySelector('#input-keyword').addEventListener('input', (e) => {
                        state.data.keyword = e.target.value;
                    });
                }, 0);

                return div;
            }

            function renderStep2() {
                const div = document.createElement('div');
                div.className = 'slide-in-right space-y-6';
                const qs = [
                    { k: 'q1', t: 'Q1 æ˜¥ (1-3æœˆ)', p: 'æ˜¥å¤©æ™‚ï¼Œä½ çš„é‡å¿ƒæ”¾åœ¨å“ªè£¡ï¼Ÿæ˜¯å¦æœ‰æ–°çš„é–‹å§‹ã€ç›®æ¨™è¨­å®šï¼Œæˆ–æ˜¯æ„æ–™ä¹‹å¤–çš„é©šå–œï¼Ÿ' },
                    { k: 'q2', t: 'Q2 å¤ (4-6æœˆ)', p: 'å¤å¤©æ™‚ï¼Œé‡åˆ°äº†ä»€éº¼æŒ‘æˆ°æˆ–è½‰æŠ˜ï¼Ÿæ˜¯å¦æœ‰å…¨åŠ›è¡åˆºã€æ„Ÿåˆ°ç–²æ†Šï¼Œæˆ–åšå‡ºèª¿æ•´çš„æ™‚åˆ»ï¼Ÿ' },
                    { k: 'q3', t: 'Q3 ç§‹ (7-9æœˆ)', p: 'ç§‹å¤©æ™‚ï¼Œæœ‰ä»€éº¼æ”¶ç©«æˆ–è®Šå‹•ï¼Ÿæ˜¯å¦å»æ—…è¡Œã€å­¸ç¿’æ–°æŠ€èƒ½ï¼Œæˆ–æ˜¯å¿ƒå¢ƒæœ‰äº†è½‰æ›ï¼Ÿ' },
                    { k: 'q4', t: 'Q4 å†¬ (10-12æœˆ)', p: 'å†¬å¤©æ™‚ï¼Œä½ æ˜¯å¦‚ä½•æ”¶å°¾çš„ï¼Ÿåšäº†ä»€éº¼é‡è¦æ±ºå®šï¼Œæˆ–æ˜¯å°æ˜å¹´æœ‰äº†ä»€éº¼æ–°çš„æƒ³æ³•ï¼Ÿ' }
                ];
                
                div.innerHTML = `
                    <h2 class="text-2xl font-bold text-stone-800 text-center mb-2">2025 å››å­£å›æ”¾</h2>
                    <p class="text-center text-stone-500 text-sm mb-6 italic">é–‰ä¸Šçœ¼å›æƒ³ï¼Œé€™ä¸€å¹´å››å­£çš„è»Œè·¡...</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 h-[400px] overflow-y-auto">
                        ${qs.map(q => `
                            <div class="bg-stone-50 p-3 rounded-lg border border-stone-100">
                                <label class="block text-amber-800 font-bold mb-2 font-serif">${q.t}</label>
                                <textarea id="input-${q.k}" rows="4" placeholder="${q.p}"
                                    class="w-full bg-transparent resize-none focus:outline-none text-sm text-stone-700 placeholder-stone-400 leading-relaxed">${state.data[q.k]}</textarea>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                setTimeout(() => {
                    qs.forEach(q => {
                        div.querySelector(`#input-${q.k}`).addEventListener('input', (e) => state.data[q.k] = e.target.value);
                    });
                }, 0);
                return div;
            }

            function renderStep3() {
                const div = document.createElement('div');
                div.className = 'slide-in-right space-y-6';
                
                // æ”¹å‹•èªªæ˜ï¼š
                // 1. åœ¨æ¯å€‹ textarea ä¸Šæ–¹å¢åŠ äº† <label> æ¨™ç±¤ï¼Œå°‡å¼•å°èªå›ºå®šé¡¯ç¤ºå‡ºä¾†ã€‚
                // 2. çµ±ä¸€äº†å¼•å°èªå…§å®¹ï¼šã€ŒåŒ…å«æˆå°±æ„Ÿä¾†æºã€é‡åˆ°çš„é˜»ç¤™èˆ‡æŒ‘æˆ°ã€ã€‚
                // 3. èª¿æ•´äº†é–“è· (space-y-2)ï¼Œè®“æ¨™é¡Œå’Œè¼¸å…¥æ¡†é å¾—æ›´è¿‘ä¸€äº›ï¼Œä¾¿æ–¼é–±è®€ã€‚

                div.innerHTML = `
                    <h2 class="text-2xl font-bold text-stone-800 text-center mb-2">å¤šé‡å®‡å®™çš„ä½ </h2>
                    <p class="text-center text-stone-500 text-sm mb-6 italic">æˆ‘å€‘åŒæ™‚æ‰®æ¼”è‘—ä¸åŒè§’è‰²ï¼Œè«‹èˆ‡å®ƒå€‘å°è©±ã€‚</p>
                    <div class="space-y-8 h-[400px] overflow-y-auto pr-2 pb-4">
                        
                        <div class="bg-stone-50 p-5 rounded-lg border border-stone-100 relative group hover:border-amber-200 transition-colors mt-2">
                            <div class="absolute -top-3 left-4 bg-amber-600 text-white text-xs px-2 py-0.5 rounded font-serif shadow-sm">ä¸»è¦è§’è‰²</div>
                            <input type="text" id="r1-name" value="${state.data.roles[0].name}" placeholder="è¼¸å…¥è§’è‰²åç¨±" 
                                class="w-full bg-transparent font-bold text-lg text-stone-800 border-b border-stone-200 focus:border-amber-600 focus:outline-none mb-4 mt-2 placeholder-stone-400">
                            
                            <div class="space-y-2">
                                <label class="block text-xs font-bold text-amber-800 mb-1">åœ¨é€™å€‹è§’è‰²è£¡ï¼Œæœ€æœ‰æˆå°±æ„Ÿçš„æ™‚åˆ»æ˜¯ä»€éº¼ï¼Ÿé‡åˆ°çš„æœ€å¤§é˜»ç¤™åˆæ˜¯ä»€éº¼ï¼Ÿ</label>
                                <textarea id="r1-review" rows="4" 
                                    class="w-full bg-white p-3 rounded border border-stone-200 resize-none text-sm text-stone-700 focus:outline-none focus:border-amber-400 placeholder-stone-400 leading-relaxed">${state.data.roles[0].review}</textarea>
                            </div>
                        </div>

                         <div class="bg-stone-50 p-5 rounded-lg border border-stone-100 relative group hover:border-amber-200 transition-colors mt-6">
                            <div class="absolute -top-3 left-4 bg-stone-500 text-white text-xs px-2 py-0.5 rounded font-serif shadow-sm">æ¬¡è¦è§’è‰²</div>
                            <input type="text" id="r2-name" value="${state.data.roles[1].name}" placeholder="è¼¸å…¥è§’è‰²åç¨±" 
                                class="w-full bg-transparent font-bold text-lg text-stone-800 border-b border-stone-200 focus:border-amber-600 focus:outline-none mb-4 mt-2 placeholder-stone-400">
                            
                            <div class="space-y-2">
                                <label class="block text-xs font-bold text-amber-800 mb-1">é€™å€‹è§’è‰²å¸¶çµ¦ä½ ä»€éº¼æˆé•·ï¼Ÿæœ‰æ²’æœ‰æ„Ÿåˆ°å›°é›£æˆ–æ™æ‰çš„æ™‚åˆ»ï¼Ÿ</label>
                                <textarea id="r2-review" rows="4" 
                                    class="w-full bg-white p-3 rounded border border-stone-200 resize-none text-sm text-stone-700 focus:outline-none focus:border-amber-400 placeholder-stone-400 leading-relaxed">${state.data.roles[1].review}</textarea>
                            </div>
                        </div>

                        <div class="bg-stone-50 p-5 rounded-lg border border-stone-100 relative group hover:border-amber-200 transition-colors mt-2">
                            <input type="text" id="r3-name" value="${state.data.roles[2].name}" placeholder="è¼¸å…¥å…¶ä»–è§’è‰² ï¼ˆé¸å¡«ï¼‰" 
                                class="w-full bg-transparent font-bold text-lg text-stone-800 border-b border-stone-200 focus:border-amber-600 focus:outline-none mb-4 placeholder-stone-400">
                            
                            <div class="space-y-2">
                                <label class="block text-xs font-bold text-amber-800 mb-1">ç°¡å–®å›é¡§ä¸€ä¸‹é€™å€‹è§’è‰²çš„é«”é©—ï¼ˆæˆå°±èˆ‡æŒ‘æˆ°ï¼‰ï¼š</label>
                                <textarea id="r3-review" rows="3" 
                                    class="w-full bg-white p-3 rounded border border-stone-200 resize-none text-sm text-stone-700 focus:outline-none focus:border-amber-400 placeholder-stone-400 leading-relaxed">${state.data.roles[2].review}</textarea>
                            </div>
                        </div>

                    </div>
                `;
                
                setTimeout(() => {
                    ['r1', 'r2', 'r3'].forEach((p, i) => {
                        div.querySelector(`#${p}-name`).addEventListener('input', (e) => state.data.roles[i].name = e.target.value);
                        div.querySelector(`#${p}-review`).addEventListener('input', (e) => state.data.roles[i].review = e.target.value);
                    });
                }, 0);
                return div;
            }

            function renderStep4() {
                const div = document.createElement('div');
                div.className = 'slide-in-right space-y-6';
                div.innerHTML = `
                    <h2 class="text-2xl font-bold text-stone-800 text-center mb-6">æ‹¾èµ·èˆ‡æ”¾ä¸‹</h2>
                    <div class="space-y-5 h-[400px] overflow-y-auto pr-2">
                        <div class="space-y-2">
                            <label class="flex items-center text-amber-800 font-bold font-serif"><i class="fa-solid fa-chart-line w-6"></i> é—œéµæ•¸æ“š (Metrics)</label>
                            <label class="block text-xs text-stone-500 mb-1">æƒ³ç”¨å“ªäº›å…·é«”çš„æ•¸å­—ç´€å¿µä½ çš„åŠªåŠ›ï¼Ÿ</label>
                            <textarea id="input-metrics" rows="3" 
                                class="w-full p-3 bg-stone-50 rounded border border-stone-100 focus:border-amber-300 focus:outline-none text-sm text-stone-700 placeholder-stone-400 leading-relaxed">${state.data.metrics}</textarea>
                        </div>
                        <div class="space-y-2">
                            <label class="flex items-center text-amber-800 font-bold font-serif"><i class="fa-solid fa-trophy w-6"></i> è‹±é›„æ™‚åˆ» (Highlights)</label>
                            <label class="block text-xs text-stone-500 mb-1">ä»Šå¹´è®“ä½ è¦ºå¾—ã€Œæˆ‘çœŸæ£’ã€çš„ä¸‰å€‹ç¬é–“æ˜¯ä»€éº¼ï¼Ÿ</label>
                            <textarea id="input-highlights" rows="3" 
                                class="w-full p-3 bg-stone-50 rounded border border-stone-100 focus:border-amber-300 focus:outline-none text-sm text-stone-700 placeholder-stone-400 leading-relaxed">${state.data.highlights}</textarea>
                        </div>
                         <div class="space-y-2">
                            <label class="flex items-center text-amber-800 font-bold font-serif"><i class="fa-solid fa-gem w-6"></i> éš±å½¢è³‡ç”¢ (Assets)</label>
                            <label class="block text-xs text-stone-500 mb-1">ä»Šå¹´ä½ ç²å¾—äº†ä»€éº¼ã€Œå¸¶å¾—èµ°ã€çš„æ±è¥¿ï¼Ÿï¼ˆä¾‹å¦‚ï¼šæ–°æŠ€èƒ½ã€å¥½ç¿’æ…£ã€äººè„ˆã€æˆ–æ˜¯å¿ƒæ…‹çš„è½‰è®Š...ï¼‰</label>
                            <textarea id="input-assets" rows="3" 
                                class="w-full p-3 bg-stone-50 rounded border border-stone-100 focus:border-amber-300 focus:outline-none text-sm text-stone-700 placeholder-stone-400 leading-relaxed">${state.data.assets}</textarea>
                        </div>
                    </div>
                `;
                setTimeout(() => {
                    div.querySelector('#input-metrics').addEventListener('input', (e) => state.data.metrics = e.target.value);
                    div.querySelector('#input-highlights').addEventListener('input', (e) => state.data.highlights = e.target.value);
                    div.querySelector('#input-assets').addEventListener('input', (e) => state.data.assets = e.target.value);
                }, 0);
                return div;
            }

            function renderStep5() {
                const div = document.createElement('div');
                div.className = 'slide-in-right space-y-6';
                div.innerHTML = `
                    <h2 class="text-2xl font-bold text-stone-800 text-center mb-2">å‡è¦– 2026</h2>
                    <p class="text-center text-stone-500 text-sm mb-6 italic">æƒ³åƒç¾åœ¨æ˜¯ 2026 å¹´åº•...</p>
                    <div class="relative">
                        <label class="block text-xs text-amber-800 font-bold mb-2 ml-1">é–‰ä¸Šçœ¼ç›ï¼Œæƒ³åƒç¾åœ¨æ˜¯ 2026 å¹´ 12 æœˆ 31 æ—¥ã€‚ä½ èº«åœ¨ä½•è™•ï¼Ÿç©ºæ°£ä¸­èèµ·ä¾†åƒä»€éº¼ï¼Ÿä½ å®Œæˆäº†å“ªäº›äº‹ï¼Ÿèº«é‚Šæœ‰èª°ï¼Ÿè«‹æè¿°é‚£å€‹å…·é«”çš„ç•«é¢ã€‚</label>
                        <textarea id="input-vision" rows="12" 
                            class="w-full p-6 bg-stone-50 rounded-lg border border-stone-100 focus:border-amber-300 focus:outline-none text-base text-stone-700 leading-loose placeholder-stone-400 font-serif">${state.data.vision}</textarea>
                        <i class="fa-solid fa-quote-right absolute bottom-4 right-4 text-4xl text-stone-200 pointer-events-none"></i>
                    </div>
                `;
                setTimeout(() => {
                    div.querySelector('#input-vision').addEventListener('input', (e) => state.data.vision = e.target.value);
                }, 0);
                return div;
            }

            function renderStep6() {
                const div = document.createElement('div');
                div.className = 'flex flex-col items-center justify-center h-full slide-in-right';
                if (!state.data.card.en) {
                    const randomCard = cardDeck[Math.floor(Math.random() * cardDeck.length)];
                    state.data.card = randomCard;
                }
                div.innerHTML = `
                    <h2 class="text-2xl font-bold text-stone-800 mb-8">æŠ½å– 2026 æˆ°ç•¥éŒ¦å›Š</h2>
                    <div class="group perspective-1000 w-64 h-96 cursor-pointer" onclick="this.classList.toggle('flipped'); document.getElementById('reveal-btn').classList.remove('opacity-0', 'pointer-events-none');">
                        <div class="relative w-full h-full text-center transition-transform duration-700 transform-style-3d shadow-2xl rounded-xl">
                            <div class="absolute w-full h-full bg-white border-2 border-amber-600/30 rounded-xl backface-hidden rotate-y-180 flex flex-col items-center justify-center p-6 bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')]">
                                <div class="text-amber-800 text-sm tracking-widest uppercase mb-2 font-serif">Archetype</div>
                                <h3 class="text-3xl font-bold text-stone-900 font-serif mb-1">${state.data.card.en}</h3>
                                <h4 class="text-xl text-stone-600 font-serif mb-6">${state.data.card.cn}</h4>
                                <div class="w-10 h-0.5 bg-amber-600 mb-6"></div>
                                <p class="text-stone-800 font-serif italic leading-relaxed">"${state.data.card.msg}"</p>
                                <div class="absolute bottom-4 text-[10px] text-stone-400">2026 Strategic Theme</div>
                            </div>
                            <div class="absolute w-full h-full bg-stone-800 rounded-xl backface-hidden flex items-center justify-center border-4 border-stone-700">
                                <div class="border-2 border-amber-600/50 w-[90%] h-[90%] rounded-lg flex items-center justify-center">
                                    <i class="fa-solid fa-compass text-6xl text-amber-600/80"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="reveal-btn" class="mt-10 opacity-0 pointer-events-none transition-opacity duration-500 text-stone-500 text-sm text-center">
                        <p class="mb-2">å·²ç²å¾—æˆ°ç•¥é—œéµå­—</p>
                        <p class="text-xs text-stone-400">é»æ“Šå³ä¸‹è§’æŒ‰éˆ•ç”Ÿæˆå ±å‘Š</p>
                    </div>
                    <style>.flipped .transform-style-3d { transform: rotateY(180deg); }</style>
                `;
                return div;
            }

            function renderStep7() {
                const prompt = generatePrompt();
                const div = document.createElement('div');
                div.className = 'slide-in-right h-full flex flex-col';
                div.innerHTML = `
                    <h2 class="text-2xl font-bold text-stone-800 text-center mb-4">ä½ çš„å¹´åº¦æˆ°ç•¥æ›¸å·²å°±ç·’</h2>
                    <div class="flex-1 relative bg-stone-900 rounded-lg p-4 overflow-hidden group">
                        <textarea id="final-prompt" readonly class="w-full h-full bg-transparent text-stone-300 font-mono text-xs md:text-sm resize-none focus:outline-none custom-scrollbar">${prompt}</textarea>
                        <button id="btn-copy" class="absolute top-4 right-4 bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded shadow flex items-center transition-all">
                            <i class="fa-regular fa-copy mr-2"></i> è¤‡è£½æŒ‡ä»¤
                        </button>
                    </div>
                    <p class="text-center text-xs text-stone-400 mt-4">è«‹è¤‡è£½ä¸Šæ–¹æŒ‡ä»¤ï¼Œè²¼åˆ°ä½ å¸¸ç”¨çš„AIï¼ˆGemini,ChatGPT,Claudeï¼‰ã€‚</p>
                `;
                setTimeout(() => {
                    const btn = div.querySelector('#btn-copy');
                    btn.addEventListener('click', () => {
                        const txt = div.querySelector('#final-prompt');
                        txt.select();
                        navigator.clipboard.writeText(txt.value).then(() => {
                            btn.innerHTML = '<i class="fa-solid fa-check mr-2"></i> å·²è¤‡è£½';
                            btn.classList.replace('bg-amber-600', 'bg-green-600');
                            setTimeout(() => {
                                btn.innerHTML = '<i class="fa-regular fa-copy mr-2"></i> è¤‡è£½æŒ‡ä»¤';
                                btn.classList.replace('bg-green-600', 'bg-amber-600');
                            }, 2000);
                        });
                    });
                }, 0);
                return div;
            }

            // --- Helpers ---
            function initRadarChart() {
                const ctx = document.getElementById('radarChart');
                if(!ctx) return;
                if(radarChart instanceof Chart) radarChart.destroy();
                radarChart = new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['äº‹æ¥­æˆå°±', 'èº«å¿ƒå¥åº·', 'äººéš›é—œä¿‚', 'è²¡å‹™è±ç››', 'è‡ªæˆ‘å¯¦ç¾'],
                        datasets: [{
                            label: '2025 èƒ½é‡',
                            data: [...state.data.scores],
                            backgroundColor: 'rgba(217, 119, 6, 0.2)',
                            borderColor: '#d97706',
                            pointBackgroundColor: '#d97706',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                min: 0, max: 10, ticks: { display: false },
                                pointLabels: { font: { family: "'Noto Serif TC', serif", size: 12 }, color: '#57534e' }
                            }
                        },
                        plugins: { legend: { display: false } }
                    }
                });
            }

            function updateRadarChart() {
                if(radarChart) {
                    radarChart.data.datasets[0].data = [...state.data.scores];
                    radarChart.update();
                }
            }

            function generatePrompt() {
                return `# Role\nä½ æ˜¯ä¸€ä½æº«æš–ã€å¯Œæœ‰æ´è¦‹çš„äººç”Ÿæˆ°ç•¥é¡§å•èˆ‡å¹´åº¦è¦†ç›¤å°ˆå®¶ã€‚\n\n# Task\nè«‹æ ¹æ“šæˆ‘å¡«å¯«çš„ **ã€2025 å¹´åº¦è¦†ç›¤ã€‘** ä»¥åŠæˆ‘æŠ½åˆ°çš„ **ã€2026 æˆ°ç•¥é—œéµå­—ï¼š${state.data.card.cn}ã€‘**ï¼Œç‚ºæˆ‘æ’°å¯«ä¸€ä»½æ·±åº¦å¹´åº¦ç¸½çµå ±å‘Šã€‚\nè«‹ä½¿ç”¨ **ç¹é«”ä¸­æ–‡**ï¼Œèªæ°£å°ˆæ¥­ã€æ¸…æ™°ä¸”æ¿€å‹µäººå¿ƒã€‚\n\n---\n# Context (ä½¿ç”¨è€…æ•¸æ“š)\n**1. èƒ½é‡å®šèª¿ï¼š**\n* å¹´åº¦é—œéµå­—ï¼š${state.data.keyword}\n* äº”ç¶­åº¦è©•åˆ†ï¼šäº‹æ¥­(${state.data.scores[0]}) / èº«å¿ƒ(${state.data.scores[1]}) / é—œä¿‚(${state.data.scores[2]}) / è²¡å‹™(${state.data.scores[3]}) / è‡ªæˆ‘(${state.data.scores[4]})\n\n**2. 2025 å››å­£å›æ”¾ï¼š**\n* Q1: ${state.data.q1}\n* Q2: ${state.data.q2}\n* Q3: ${state.data.q3}\n* Q4: ${state.data.q4}\n\n**3. äººç”Ÿè§’è‰²æª¢è¦–ï¼š**\n* è§’è‰²1 (${state.data.roles[0].name}): ${state.data.roles[0].review}\n* è§’è‰²2 (${state.data.roles[1].name}): ${state.data.roles[1].review}\n* è§’è‰²3 (${state.data.roles[2].name}): ${state.data.roles[2].review}\n\n**4. æ·±åº¦ç›¤é»ï¼š**\n* é—œéµæ•¸æ“š: ${state.data.metrics}\n* è‹±é›„æ™‚åˆ»: ${state.data.highlights}\n* éš±å½¢è³‡ç”¢: ${state.data.assets}\n\n**5. æœªä¾†é¡˜æ™¯ï¼š**\n${state.data.vision}\n\n**6. âœ¨ 2026 æˆ°ç•¥é—œéµå­—ï¼š**\n* **${state.data.card.cn} (${state.data.card.en})**\n* è¡Œå‹•æº–å‰‡ï¼š${state.data.card.msg}\n\n---\n# Output Structure (è«‹ä¾ç…§æ­¤æ¶æ§‹ç”¢å‡º)\n\n## 1. ğŸ¦‹ 2025 å¹´åº¦ç¸½çµ\n* **å¹´åº¦å®šèª¿ï¼š** çµåˆé—œéµå­—èˆ‡äº”ç¶­åº¦è©•åˆ†ï¼Œåˆ†æä»Šå¹´çš„æ•´é«”åŸºèª¿ã€‚\n\n## 2. ğŸ† æ•¸æ“šåˆ†æ\n* **æˆå°±æ˜¯å¦‚ä½•ç™¼ç”Ÿçš„ï¼š** åˆ†æè‹±é›„æ™‚åˆ»èˆ‡æ•¸æ“šèƒŒå¾Œçš„é—œéµè¡Œå‹•ã€‚\n* **è§’è‰²æˆé•·ï¼š** é‡å°ä¸åŒè§’è‰²(${state.data.roles[0].name}...)çš„è½‰è®Šé€²è¡Œé»è©•ã€‚\n\n## 3. ğŸ§© éš±å½¢è³‡ç”¢ç›¤é»\n* **å…§åœ¨ç´¯ç©ï¼š** åˆ†æé‚£äº›ç„¡æ³•è¢«é‡åŒ–ï¼Œä½†å°æœªä¾†è‡³é—œé‡è¦çš„ç¶“é©—èˆ‡å¿ƒæ…‹ã€‚\n\n## 4. ğŸ’Œ 2026 æˆ°ç•¥è¦åŠƒ\n* **çµ¦æœªä¾†çš„ä¿¡ï¼š** çµåˆé¡˜æ™¯å¯«ä¸€æ®µè©±ã€‚\n* **é—œéµå­—æˆ°ç•¥è§£è®€ï¼š** è«‹é‡å°æˆ‘æŠ½åˆ°çš„ã€Œ${state.data.card.cn}ã€ï¼Œçµåˆæˆ‘çš„é¡˜æ™¯ï¼Œæä¾› **3 å€‹å…·é«”çš„è¡Œå‹•å»ºè­°**ã€‚å‘Šè¨´æˆ‘æ˜å¹´è‹¥è¦å¯¦è¸é€™å€‹é—œéµå­—ï¼Œæˆ‘æ‡‰è©²å°ˆæ³¨ä»€éº¼ï¼Ÿæˆ–é¿å…ä»€éº¼ï¼Ÿ\n\n## 5. ğŸ¨ AI è¦–è¦ºåŒ–æŒ‡ä»¤ (Bonus)\nè«‹ç”Ÿæˆå…©çµ„ **è‹±æ–‡** Image Promptsï¼Œä¸¦é™„ä¸Šä¸­æ–‡è¨­è¨ˆæ€è·¯ã€‚\n**é‡è¦æç¤ºï¼š** è«‹æŒ‡ç¤ºç¹ªåœ– AI ç›¡é‡ä½¿ç”¨åœ–åƒã€åœ–æ¨™å’ŒæŠ½è±¡å…ƒç´ ä¾†è¡¨é”è³‡è¨Šï¼Œ**é¿å…åœ¨åœ–ä¸­æ¸²æŸ“è¤‡é›œçš„æ–‡å­—æˆ–æ•¸æ“šæ¨™ç±¤**ï¼Œä»¥å…ç”¢ç”Ÿäº‚ç¢¼ã€‚\n\n* **[Prompt 1: 2025 å¹´åº¦å…¨æ™¯è³‡è¨Šåœ–è¡¨]**:\n    * è¨­è¨ˆæ€è·¯ï¼šè«‹è¨­è¨ˆä¸€å¼µé›œèªŒé¢¨æ ¼çš„è³‡è¨Šåœ–è¡¨ï¼Œç”¨è¦–è¦ºåŒ–çš„æ–¹å¼å‘ˆç¾ Q1-Q4 çš„æµå‹•ã€é—œéµæ•¸æ“šçš„äº®é»ï¼Œä»¥åŠé›·é”åœ–çš„èƒ½é‡åˆ†ä½ˆã€‚é‡é»æ˜¯æ•´é«”çš„è¦–è¦ºç¾æ„Ÿèˆ‡çµæ§‹ã€‚\n    * é¢¨æ ¼ï¼šEditorial layout, clean data visualization using icons and abstract shapes, minimal text, warm earth tones.\n* **[Prompt 2: 2026 é¡˜æ™¯æ‹¼è²¼]**:\n    * è¨­è¨ˆæ€è·¯ï¼šå°‡æˆ‘çš„é¡˜æ™¯ç•«é¢èˆ‡ã€Œ${state.data.card.en}ã€çš„è±¡å¾µå…ƒç´ çµåˆï¼Œè¨­è¨ˆä¸€å¼µæ¿€å‹µäººå¿ƒçš„é›»è…¦æ¡Œå¸ƒã€‚\n    * é¢¨æ ¼ï¼šDesktop wallpaper, mood board style, aesthetic and inspiring, photorealistic elements.`;
            }

        });
    </script>
</body>
</html>
